<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Supervisor RH - Sistema de Reclutamiento</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: {
                            50: '#eff6ff',
                            100: '#dbeafe',
                            200: '#bfdbfe',
                            300: '#93c5fd',
                            400: '#60a5fa',
                            500: '#3b82f6',
                            600: '#2563eb',
                            700: '#1d4ed8',
                            800: '#1e40af',
                            900: '#1e3a8a',
                        },
                        purple: {
                            50: '#faf5ff',
                            100: '#f3e8ff',
                            200: '#e9d5ff',
                            600: '#9333ea',
                            700: '#7e22ce',
                            800: '#6b21a8',
                        }
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-gray-50 font-sans antialiased">
    <!-- Debug: Verificar que el script se ejecuta -->
    <script>
        console.log('üéØ Body cargando...');
        console.log('Alpine disponible:', typeof Alpine !== 'undefined');
    </script>
    <div id="app" x-data="supervisorApp()" x-init="init()" class="min-h-screen">
        <!-- Loading Overlay -->
        <div x-show="loading" class="fixed inset-0 bg-white bg-opacity-90 flex items-center justify-center z-50">
            <div class="text-center">
                <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"></div>
                <p class="text-gray-600">Cargando dashboard...</p>
            </div>
        </div>

        <!-- Banner de Solo Lectura -->
        <div class="bg-gradient-to-r from-purple-50 to-purple-100 border-l-4 border-purple-600 px-6 py-3">
            <div class="flex items-center justify-between max-w-7xl mx-auto">
                <div class="flex items-center">
                    <i class="fas fa-lock text-purple-600 mr-3"></i>
                    <div>
                        <p class="text-sm font-semibold text-purple-900">Modo Solo Lectura</p>
                        <p class="text-xs text-purple-700">Puedes visualizar y exportar datos, pero no realizar modificaciones</p>
                    </div>
                </div>
                <span class="px-3 py-1 bg-purple-200 text-purple-800 text-xs font-medium rounded-full">
                    Supervisor
                </span>
            </div>
        </div>

        <!-- Header -->
        <header class="bg-white shadow-sm border-b border-gray-200 relative z-30">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex justify-between items-center h-16">
                    <!-- Logo y T√≠tulo -->
                    <div class="flex items-center">
                        <button @click="sidebarOpen = !sidebarOpen" class="lg:hidden mr-4 p-2 rounded-lg hover:bg-gray-100">
                            <i class="fas fa-bars text-gray-600"></i>
                        </button>
                        <div class="flex items-center space-x-3">
                            <div class="w-10 h-10 gradient-primary rounded-lg flex items-center justify-center">
                                <i class="fas fa-eye text-white"></i>
                            </div>
                            <div>
                                <h1 class="text-xl font-bold text-gray-900">Sistema RH</h1>
                                <p class="text-xs text-gray-500">Panel de Supervisi√≥n</p>
                            </div>
                        </div>
                    </div>

                    <!-- Barra de b√∫squeda y acciones -->
                    <div class="flex items-center space-x-4">
                        <!-- B√∫squeda -->
                        <div class="hidden md:block">
                            <div class="relative">
                                <input type="text" 
                                       x-model="searchQuery"
                                       @input="handleSearch()"
                                       placeholder="Buscar en el sistema..." 
                                       class="w-80 pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500">
                                <i class="fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                            </div>
                        </div>

                        <!-- Notificaciones -->
                        <div class="relative" x-data="{ open: false }">
                            <button @click="open = !open" 
                                    class="p-2 rounded-full hover:bg-gray-100 transition-colors relative">
                                <i class="fas fa-bell text-gray-600 text-lg"></i>
                                <span class="absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"></span>
                            </button>
                            
                            <!-- Dropdown de notificaciones -->
                            <div x-show="open" @click.away="open = false" x-transition 
                                 class="origin-top-right absolute right-0 mt-2 w-80 rounded-lg shadow-lg bg-white ring-1 ring-black ring-opacity-5 z-50">
                                <div class="p-4">
                                    <div class="flex items-center justify-between mb-3">
                                        <h3 class="text-sm font-semibold text-gray-900">Notificaciones</h3>
                                        <span class="text-xs text-primary-600">3 nuevas</span>
                                    </div>
                                    <div class="space-y-3">
                                        <template x-for="notification in notifications" :key="notification.id">
                                            <div class="flex items-start space-x-3 p-2 hover:bg-gray-50 rounded-lg cursor-pointer">
                                                <div class="flex-shrink-0 mt-1">
                                                    <i :class="notification.icon" class="text-primary-600 text-sm"></i>
                                                </div>
                                                <div class="flex-1">
                                                    <p class="text-sm text-gray-900" x-text="notification.message"></p>
                                                    <p class="text-xs text-gray-500" x-text="notification.time"></p>
                                                </div>
                                            </div>
                                        </template>
                                    </div>
                                    <div class="mt-3 pt-3 border-t">
                                        <a href="#" class="text-sm text-primary-600 hover:text-primary-700">Ver todas las notificaciones</a>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Perfil de usuario -->
                        <div class="relative" x-data="{ open: false }">
                            <button @click="open = !open" 
                                    class="flex items-center text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-purple-500 p-1 hover:bg-gray-50 transition-colors">
                                <img class="h-8 w-8 rounded-full border-2 border-purple-200" 
                                     src="https://ui-avatars.com/api/?name=Supervisor+RH&background=9333ea&color=fff" alt="Supervisor RH">
                                <span class="ml-2 text-gray-700 font-medium hidden sm:block">Supervisor RH</span>
                                <i class="ml-1 fas fa-chevron-down text-gray-400"></i>
                            </button>
                            
                            <!-- Dropdown men√∫ -->
                            <div x-show="open" @click.away="open = false" x-transition 
                                 class="origin-top-right absolute right-0 mt-2 w-56 rounded-lg shadow-lg bg-white ring-1 ring-black ring-opacity-5 z-50">
                                <div class="p-4 border-b">
                                    <p class="text-sm font-semibold text-gray-900">Supervisor RH</p>
                                    <p class="text-xs text-gray-500">supervisor@bechapra.com</p>
                                    <span class="inline-block mt-2 px-2 py-1 bg-purple-100 text-purple-700 text-xs rounded-full">
                                        <i class="fas fa-lock mr-1"></i>Solo Lectura
                                    </span>
                                </div>
                                <div class="py-2">
                                    <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50">
                                        <i class="fas fa-user mr-2 w-4"></i>Mi Perfil
                                    </a>
                                    <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50">
                                        <i class="fas fa-cog mr-2 w-4"></i>Configuraci√≥n
                                    </a>
                                </div>
                                <div class="border-t py-2">
                                    <a href="login.html" class="block px-4 py-2 text-sm text-red-600 hover:bg-red-50">
                                        <i class="fas fa-sign-out-alt mr-2 w-4"></i>Cerrar Sesi√≥n
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <!-- Layout Principal -->
        <div class="flex">
            <!-- Sidebar -->
            <aside class="bg-white border-r border-gray-200 fixed lg:sticky top-0 h-screen z-20 transition-transform duration-300 w-64"
                   :class="sidebarOpen ? 'translate-x-0' : '-translate-x-full lg:translate-x-0'">
                
                <!-- Sidebar Header -->
                <div class="p-6 border-b border-gray-100">
                    <div class="flex items-center space-x-3">
                        <div class="w-8 h-8 bg-gradient-to-r from-purple-500 to-purple-600 rounded-lg flex items-center justify-center">
                            <i class="fas fa-eye text-white text-sm"></i>
                        </div>
                        <div>
                            <h2 class="font-semibold text-gray-900">Panel Supervisor</h2>
                            <p class="text-xs text-gray-500">Solo Visualizaci√≥n</p>
                        </div>
                    </div>
                </div>

                <!-- Navigation -->
                <div class="p-4">
                    <ul class="space-y-1">
                        <li>
                            <a @click="setView('dashboard')" 
                               :class="getNavItemClass('dashboard')"
                               class="sidebar-item flex items-center px-3 py-2 text-sm font-medium rounded-lg cursor-pointer transition-all">
                                <i class="fas fa-chart-line mr-3 w-5"></i>
                                Dashboard
                            </a>
                        </li>
                        <li>
                            <a @click="setView('my-processes')" 
                               :class="getNavItemClass('my-processes')"
                               class="sidebar-item flex items-center px-3 py-2 text-sm font-medium rounded-lg cursor-pointer transition-all">
                                <i class="fas fa-tasks mr-3 w-5"></i>
                                Mis Procesos
                            </a>
                        </li>
                        <li>
                            <a @click="setView('candidates')" 
                               :class="getNavItemClass('candidates')"
                               class="sidebar-item flex items-center px-3 py-2 text-sm font-medium rounded-lg cursor-pointer transition-all">
                                <i class="fas fa-users mr-3 w-5"></i>
                                Candidatos
                            </a>
                        </li>
                        <li>
                            <a @click="setView('clients')" 
                               :class="getNavItemClass('clients')"
                               class="sidebar-item flex items-center px-3 py-2 text-sm font-medium rounded-lg cursor-pointer transition-all">
                                <i class="fas fa-building mr-3 w-5"></i>
                                Clientes
                            </a>
                        </li>
                        <li>
                            <a @click="setView('reports')" 
                               :class="getNavItemClass('reports')"
                               class="sidebar-item flex items-center px-3 py-2 text-sm font-medium rounded-lg cursor-pointer transition-all">
                                <i class="fas fa-chart-bar mr-3 w-5"></i>
                                Reportes
                            </a>
                        </li>
                        <li>
                            <a @click="setView('documents')" 
                               :class="getNavItemClass('documents')"
                               class="sidebar-item flex items-center px-3 py-2 text-sm font-medium rounded-lg cursor-pointer transition-all">
                                <i class="fas fa-file-alt mr-3 w-5"></i>
                                Documentos
                            </a>
                        </li>
                        <li>
                            <a @click="setView('team-metrics')" 
                               :class="getNavItemClass('team-metrics')"
                               class="sidebar-item flex items-center px-3 py-2 text-sm font-medium rounded-lg cursor-pointer transition-all">
                                <i class="fas fa-user-friends mr-3 w-5"></i>
                                M√©tricas del Equipo
                            </a>
                        </li>
                    </ul>
                </div>

                <!-- Quick Stats en Sidebar -->
                <div class="p-4 border-t border-gray-100 mt-auto">
                    <h3 class="text-xs font-semibold text-gray-500 uppercase mb-3">Resumen R√°pido</h3>
                    <div class="space-y-2">
                        <div class="flex items-center justify-between">
                            <span class="text-xs text-gray-600">Mis Procesos</span>
                            <span class="text-xs font-semibold text-primary-600" x-text="stats.myProcesses">8</span>
                        </div>
                        <div class="flex items-center justify-between">
                            <span class="text-xs text-gray-600">Pendientes Hoy</span>
                            <span class="text-xs font-semibold text-yellow-600" x-text="stats.pendingToday">5</span>
                        </div>
                    </div>
                </div>
            </aside>

            <!-- Main Content Area -->
            <main class="flex-1 overflow-y-auto lg:ml-0"
                  :class="sidebarOpen ? 'lg:ml-64' : 'ml-0 lg:ml-0'"
                  @click="sidebarOpen = false">
                
                <!-- Dashboard Content -->
                <div x-show="currentView === 'dashboard'" x-transition class="p-6">
                    <!-- Page Header -->
                    <div class="mb-8">
                        <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between">
                            <div>
                                <h2 class="text-3xl font-bold text-gray-900">Panel de Supervisi√≥n</h2>
                                <p class="text-gray-600 mt-1">Vista general del sistema de reclutamiento</p>
                            </div>
                            <div class="mt-4 sm:mt-0 flex space-x-3">
                                <button @click="refreshDashboard()" 
                                        class="px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary-500">
                                    <i class="fas fa-sync mr-2"></i>Actualizar
                                </button>
                                <button @click="exportDashboard()" 
                                        class="px-4 py-2 btn-primary text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500">
                                    <i class="fas fa-download mr-2"></i>Exportar
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- KPI Cards -->
                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                        <!-- Procesos Activos -->
                        <div class="card bg-white rounded-xl shadow-sm border border-gray-200 p-6 card-hover">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm font-medium text-gray-600">Procesos Activos</p>
                                    <p class="text-3xl font-bold text-gray-900 mt-2" x-text="stats.activeProcesses">12</p>
                                </div>
                                <div class="p-3 bg-primary-100 rounded-xl">
                                    <i class="fas fa-briefcase text-primary-600 text-xl"></i>
                                </div>
                            </div>
                            <div class="mt-4 flex items-center text-sm">
                                <span class="flex items-center text-green-600">
                                    <i class="fas fa-arrow-up text-xs mr-1"></i>
                                    <span class="font-semibold">15%</span>
                                </span>
                                <span class="text-gray-500 ml-2">vs mes anterior</span>
                            </div>
                        </div>

                        <!-- Candidatos en Evaluaci√≥n -->
                        <div class="card bg-white rounded-xl shadow-sm border border-gray-200 p-6 card-hover">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm font-medium text-gray-600">Candidatos Activos</p>
                                    <p class="text-3xl font-bold text-gray-900 mt-2" x-text="stats.activeCandidates">48</p>
                                </div>
                                <div class="p-3 bg-green-100 rounded-xl">
                                    <i class="fas fa-user-check text-green-600 text-xl"></i>
                                </div>
                            </div>
                            <div class="mt-4 flex items-center text-sm">
                                <span class="flex items-center text-green-600">
                                    <i class="fas fa-arrow-up text-xs mr-1"></i>
                                    <span class="font-semibold">8%</span>
                                </span>
                                <span class="text-gray-500 ml-2">desde √∫ltima semana</span>
                            </div>
                        </div>

                        <!-- Tasa de √âxito -->
                        <div class="card bg-white rounded-xl shadow-sm border border-gray-200 p-6 card-hover">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm font-medium text-gray-600">Tasa de √âxito</p>
                                    <p class="text-3xl font-bold text-gray-900 mt-2" x-text="stats.successRate + '%'">85%</p>
                                </div>
                                <div class="p-3 bg-purple-100 rounded-xl">
                                    <i class="fas fa-chart-line text-purple-600 text-xl"></i>
                                </div>
                            </div>
                            <div class="mt-4 flex items-center text-sm">
                                <span class="flex items-center text-green-600">
                                    <i class="fas fa-arrow-up text-xs mr-1"></i>
                                    <span class="font-semibold">3%</span>
                                </span>
                                <span class="text-gray-500 ml-2">mejora continua</span>
                            </div>
                        </div>

                        <!-- Satisfacci√≥n Cliente -->
                        <div class="card bg-white rounded-xl shadow-sm border border-gray-200 p-6 card-hover">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm font-medium text-gray-600">Satisfacci√≥n Cliente</p>
                                    <p class="text-3xl font-bold text-gray-900 mt-2" x-text="stats.clientSatisfaction + '/5'">4.7/5</p>
                                </div>
                                <div class="p-3 bg-yellow-100 rounded-xl">
                                    <i class="fas fa-star text-yellow-600 text-xl"></i>
                                </div>
                            </div>
                            <div class="mt-4">
                                <div class="flex items-center">
                                    <i class="fas fa-star text-yellow-400 text-xs"></i>
                                    <i class="fas fa-star text-yellow-400 text-xs ml-1"></i>
                                    <i class="fas fa-star text-yellow-400 text-xs ml-1"></i>
                                    <i class="fas fa-star text-yellow-400 text-xs ml-1"></i>
                                    <i class="fas fa-star-half-alt text-yellow-400 text-xs ml-1"></i>
                                    <span class="text-sm text-gray-500 ml-2">Excelente</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Charts y Tablas -->
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
                        <!-- Gr√°fica de Procesos -->
                        <div class="card bg-white rounded-xl shadow-sm border border-gray-200 p-6">
                            <div class="flex items-center justify-between mb-4">
                                <h3 class="text-lg font-semibold text-gray-900">Distribuci√≥n de Procesos</h3>
                                <div class="flex items-center space-x-2">
                                    <i class="fas fa-lock text-gray-400 text-xs" title="Solo lectura"></i>
                                </div>
                            </div>
                            <div class="h-64">
                                <canvas id="processChart"></canvas>
                            </div>
                        </div>

                        <!-- Actividad Reciente -->
                        <div class="card bg-white rounded-xl shadow-sm border border-gray-200 p-6">
                            <div class="flex items-center justify-between mb-4">
                                <h3 class="text-lg font-semibold text-gray-900">Actividad Reciente</h3>
                            </div>
                            <div class="space-y-4">
                                <template x-for="activity in recentActivity" :key="activity.id">
                                    <div class="flex items-start space-x-3 pb-3 border-b border-gray-100 last:border-0">
                                        <div class="flex-shrink-0 mt-1">
                                            <div class="w-8 h-8 rounded-full bg-primary-100 flex items-center justify-center">
                                                <i :class="activity.icon" class="text-primary-600 text-xs"></i>
                                            </div>
                                        </div>
                                        <div class="flex-1 min-w-0">
                                            <p class="text-sm text-gray-900" x-text="activity.description"></p>
                                            <p class="text-xs text-gray-500 mt-1" x-text="activity.time"></p>
                                        </div>
                                    </div>
                                </template>
                            </div>
                        </div>
                    </div>

                    <!-- Tabla de Procesos Asignados -->
                    <div class="card bg-white rounded-xl shadow-sm border border-gray-200 p-6">
                        <div class="flex items-center justify-between mb-6">
                            <h3 class="text-lg font-semibold text-gray-900">Mis Procesos Asignados</h3>
                            <button @click="exportProcesses()" 
                                    class="px-3 py-1.5 text-sm bg-primary-50 text-primary-700 rounded-lg hover:bg-primary-100">
                                <i class="fas fa-download mr-2"></i>Exportar
                            </button>
                        </div>
                        <div class="overflow-x-auto">
                            <table class="min-w-full">
                                <thead>
                                    <tr class="bg-gray-50">
                                        <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">Posici√≥n</th>
                                        <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">Cliente</th>
                                        <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">Estado</th>
                                        <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">Candidatos</th>
                                        <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">Fecha L√≠mite</th>
                                        <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">Ver</th>
                                    </tr>
                                </thead>
                                <tbody class="divide-y divide-gray-200">
                                    <template x-for="process in myProcesses" :key="process.id">
                                        <tr class="hover:bg-gray-50">
                                            <td class="px-4 py-4">
                                                <div class="flex items-center">
                                                    <div class="w-10 h-10 rounded-lg bg-gradient-to-r from-primary-500 to-primary-600 flex items-center justify-center mr-3">
                                                        <i class="fas fa-briefcase text-white text-sm"></i>
                                                    </div>
                                                    <div>
                                                        <p class="text-sm font-medium text-gray-900" x-text="process.position"></p>
                                                        <p class="text-xs text-gray-500" x-text="process.department"></p>
                                                    </div>
                                                </div>
                                            </td>
                                            <td class="px-4 py-4 text-sm text-gray-900" x-text="process.client"></td>
                                            <td class="px-4 py-4">
                                                <span class="px-3 py-1 text-xs font-medium rounded-full"
                                                      :class="{
                                                          'bg-green-100 text-green-800': process.status === 'active',
                                                          'bg-yellow-100 text-yellow-800': process.status === 'pending',
                                                          'bg-blue-100 text-blue-800': process.status === 'completed'
                                                      }"
                                                      x-text="process.statusText"></span>
                                            </td>
                                            <td class="px-4 py-4 text-sm text-gray-900" x-text="process.candidates"></td>
                                            <td class="px-4 py-4 text-sm text-gray-900" x-text="process.deadline"></td>
                                            <td class="px-4 py-4">
                                                <button @click="viewProcessDetails(process.id)" 
                                                        class="text-primary-600 hover:text-primary-700">
                                                    <i class="fas fa-eye"></i>
                                                </button>
                                            </td>
                                        </tr>
                                    </template>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Vista de Mis Procesos -->
                <div x-show="currentView === 'my-processes'" x-transition class="p-6">
                    <div class="mb-6">
                        <h2 class="text-2xl font-bold text-gray-900">Mis Procesos</h2>
                        <p class="text-gray-600">Procesos de reclutamiento asignados a m√≠</p>
                    </div>
                    <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6">
                        <div class="flex items-center space-x-2 text-purple-600 mb-4">
                            <i class="fas fa-lock"></i>
                            <p class="text-sm">Vista de solo lectura - Puedes ver detalles y exportar informaci√≥n</p>
                        </div>
                        <p class="text-gray-600">Panel de mis procesos en desarrollo...</p>
                    </div>
                </div>

                <!-- Vista de Candidatos -->
                <div x-show="currentView === 'candidates'" x-transition class="p-6">
                    <div class="mb-6">
                        <h2 class="text-2xl font-bold text-gray-900">Gesti√≥n de Candidatos</h2>
                        <p class="text-gray-600">Visualizaci√≥n de candidatos del sistema</p>
                    </div>
                    <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6">
                        <div class="flex items-center space-x-2 text-purple-600 mb-4">
                            <i class="fas fa-lock"></i>
                            <p class="text-sm">Vista de solo lectura - No puedes crear o editar candidatos</p>
                        </div>
                        <p class="text-gray-600">Panel de candidatos en desarrollo...</p>
                    </div>
                </div>

                <!-- Vista de Clientes -->
                <div x-show="currentView === 'clients'" x-transition class="p-6">
                    <div class="mb-6">
                        <h2 class="text-2xl font-bold text-gray-900">Gesti√≥n de Clientes</h2>
                        <p class="text-gray-600">Visualizaci√≥n de informaci√≥n de clientes</p>
                    </div>
                    <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6">
                        <div class="flex items-center space-x-2 text-purple-600 mb-4">
                            <i class="fas fa-lock"></i>
                            <p class="text-sm">Vista de solo lectura - No puedes modificar informaci√≥n de clientes</p>
                        </div>
                        <p class="text-gray-600">Panel de clientes en desarrollo...</p>
                    </div>
                </div>

                <!-- Vista de Reportes -->
                <div x-show="currentView === 'reports'" x-transition class="p-6">
                    <div class="mb-6">
                        <h2 class="text-2xl font-bold text-gray-900">Reportes y Analytics</h2>
                        <p class="text-gray-600">Exportaci√≥n y visualizaci√≥n de reportes</p>
                    </div>
                    <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6">
                        <div class="flex items-center justify-between mb-6">
                            <p class="text-gray-600">Puedes exportar cualquier reporte en formato PDF o Excel</p>
                            <button class="px-4 py-2 btn-primary text-white rounded-lg">
                                <i class="fas fa-download mr-2"></i>Generar Reporte
                            </button>
                        </div>
                        <p class="text-gray-600">Panel de reportes en desarrollo...</p>
                    </div>
                </div>

                <!-- Vista de Documentos -->
                <div x-show="currentView === 'documents'" x-transition class="p-6">
                    <div class="mb-6">
                        <h2 class="text-2xl font-bold text-gray-900">Gesti√≥n de Documentos</h2>
                        <p class="text-gray-600">Visualizaci√≥n de documentos del sistema</p>
                    </div>
                    <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6">
                        <div class="flex items-center space-x-2 text-purple-600 mb-4">
                            <i class="fas fa-lock"></i>
                            <p class="text-sm">Vista de solo lectura - Puedes descargar pero no subir documentos</p>
                        </div>
                        <p class="text-gray-600">Panel de documentos en desarrollo...</p>
                    </div>
                </div>

                <!-- Vista de M√©tricas del Equipo -->
                <div x-show="currentView === 'team-metrics'" x-transition class="p-6">
                    <div class="mb-6">
                        <h2 class="text-2xl font-bold text-gray-900">M√©tricas del Equipo</h2>
                        <p class="text-gray-600">Visualizaci√≥n del rendimiento del equipo</p>
                    </div>
                    <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6">
                        <p class="text-gray-600">Panel de m√©tricas en desarrollo...</p>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- Notification Manager y Scripts -->
    <script>
        // Notification Manager
        const NotificationManager = {
            success(message) {
                console.log('‚úÖ Success:', message);
                // Aqu√≠ puedes agregar un toast notification si lo deseas
            },
            error(message) {
                console.error('‚ùå Error:', message);
                alert(message); // Temporal para ver errores
            },
            info(message) {
                console.info('‚ÑπÔ∏è Info:', message);
            }
        };

        // Data Utils
        const DataUtils = {
            debounce(func, wait) {
                let timeout;
                return function executedFunction(...args) {
                    const later = () => {
                        clearTimeout(timeout);
                        func.apply(this, args);
                    };
                    clearTimeout(timeout);
                    timeout = setTimeout(later, wait);
                };
            }
        };

        // Supervisor App
        window.supervisorApp = function supervisorApp() {
            console.log('üé® supervisorApp() funci√≥n ejecutada');
            return {
                // Estado
                loading: true,
                currentView: 'dashboard',
                sidebarOpen: false,
                searchQuery: '',
                
                // Datos
                stats: {
                    activeProcesses: 0,
                    activeCandidates: 0,
                    successRate: 0,
                    clientSatisfaction: 0,
                    myProcesses: 0,
                    pendingToday: 0
                },
                
                notifications: [],
                recentActivity: [],
                myProcesses: [],
                processChart: null,
                
                // Inicializaci√≥n
                async init() {
                    console.log('üöÄ Iniciando Supervisor Dashboard...');
                    this.loading = true;
                    try {
                        // Cargar datos del dashboard
                        await this.loadDashboardData();
                        
                        // Configurar gr√°ficas
                        this.setupCharts();
                        
                        console.log('‚úÖ Dashboard cargado exitosamente');
                        
                    } catch (error) {
                        console.error('‚ùå Error initializing supervisor dashboard:', error);
                        NotificationManager.error('Error cargando el dashboard: ' + error.message);
                    } finally {
                        this.loading = false;
                    }
                },
                
                // Cargar datos
                async loadDashboardData() {
                    console.log('üìä Cargando datos del dashboard...');
                    try {
                        // Simular un peque√±o delay para el loading
                        await new Promise(resolve => setTimeout(resolve, 500));
                        
                        // Mock data - En producci√≥n, llamar al API
                        this.stats = {
                            activeProcesses: 12,
                            activeCandidates: 48,
                            successRate: 85,
                            clientSatisfaction: 4.7,
                            myProcesses: 8,
                            pendingToday: 5
                        };
                        
                        console.log('‚úÖ Stats cargados:', this.stats);
                        
                        this.notifications = [
                            {
                                id: 1,
                                icon: 'fas fa-user-plus',
                                message: 'Nuevo candidato agregado al proceso "Desarrollador Senior"',
                                time: 'Hace 2 horas'
                            },
                            {
                                id: 2,
                                icon: 'fas fa-check-circle',
                                message: 'Proceso "Analista de Datos" completado',
                                time: 'Hace 4 horas'
                            },
                            {
                                id: 3,
                                icon: 'fas fa-clock',
                                message: 'Recordatorio: Evaluaci√≥n pendiente para ma√±ana',
                                time: 'Hace 6 horas'
                            }
                        ];
                        
                        console.log('‚úÖ Notificaciones cargadas:', this.notifications.length);
                        
                        this.recentActivity = [
                            {
                                id: 1,
                                icon: 'fas fa-file-alt',
                                description: 'Mar√≠a Garc√≠a subi√≥ su CV actualizado',
                                time: 'Hace 30 minutos'
                            },
                            {
                                id: 2,
                                icon: 'fas fa-check-circle',
                                description: 'Evaluaci√≥n t√©cnica completada por Juan P√©rez',
                                time: 'Hace 2 horas'
                            },
                            {
                                id: 3,
                                icon: 'fas fa-comment',
                                description: 'Nuevo comentario en proceso "Dise√±ador UX"',
                                time: 'Hace 3 horas'
                            }
                        ];
                        
                        console.log('‚úÖ Actividad reciente cargada:', this.recentActivity.length);
                        
                        this.myProcesses = [
                            {
                                id: 1,
                                position: 'Desarrollador Frontend Senior',
                                department: 'Tecnolog√≠a',
                                client: 'Tech Corp',
                                status: 'active',
                                statusText: 'Activo',
                                candidates: '12/15',
                                deadline: '2025-11-30'
                            },
                            {
                                id: 2,
                                position: 'Analista de Datos',
                                department: 'Analytics',
                                client: 'Data Solutions',
                                status: 'active',
                                statusText: 'Activo',
                                candidates: '8/10',
                                deadline: '2025-12-15'
                            },
                            {
                                id: 3,
                                position: 'Dise√±ador UX/UI',
                                department: 'Dise√±o',
                                client: 'Creative Agency',
                                status: 'pending',
                                statusText: 'Pendiente',
                                candidates: '5/8',
                                deadline: '2025-11-20'
                            }
                        ];
                        
                        console.log('‚úÖ Mis procesos cargados:', this.myProcesses.length);
                        console.log('‚úÖ Todos los datos cargados exitosamente');
                        
                    } catch (error) {
                        console.error('‚ùå Error loading dashboard data:', error);
                        throw error;
                    }
                },
                
                // Charts
                setupCharts() {
                    console.log('üìà Configurando gr√°ficas...');
                    this.$nextTick(() => {
                        const ctx = document.getElementById('processChart');
                        console.log('Canvas encontrado:', ctx ? 'S√≠' : 'No');
                        if (ctx) {
                            this.processChart = new Chart(ctx, {
                                type: 'doughnut',
                                data: {
                                    labels: ['En Proceso', 'Completados', 'Pausados'],
                                    datasets: [{
                                        data: [8, 25, 4],
                                        backgroundColor: [
                                            '#3B82F6',
                                            '#10B981',
                                            '#F59E0B'
                                        ],
                                        borderWidth: 0
                                    }]
                                },
                                options: {
                                    responsive: true,
                                    maintainAspectRatio: false,
                                    plugins: {
                                        legend: {
                                            position: 'bottom'
                                        }
                                    }
                                }
                            });
                            console.log('‚úÖ Gr√°fica creada exitosamente');
                        } else {
                            console.warn('‚ö†Ô∏è Canvas no encontrado - la gr√°fica no se renderizar√°');
                        }
                    });
                },
                
                // Navegaci√≥n
                setView(view) {
                    this.currentView = view;
                    this.sidebarOpen = false;
                },
                
                getNavItemClass(view) {
                    return this.currentView === view 
                        ? 'bg-purple-50 text-purple-700 font-semibold' 
                        : 'text-gray-700 hover:bg-gray-50';
                },
                
                // Acciones (solo lectura)
                async refreshDashboard() {
                    try {
                        this.loading = true;
                        await this.loadDashboardData();
                        NotificationManager.success('Dashboard actualizado');
                    } catch (error) {
                        NotificationManager.error('Error actualizando dashboard');
                    } finally {
                        this.loading = false;
                    }
                },
                
                exportDashboard() {
                    NotificationManager.info('Generando exportaci√≥n del dashboard...');
                    // En producci√≥n: descargar PDF o Excel
                },
                
                exportProcesses() {
                    NotificationManager.info('Exportando lista de procesos...');
                    // En producci√≥n: descargar archivo
                },
                
                viewProcessDetails(id) {
                    NotificationManager.info(`Abriendo detalles del proceso ${id}...`);
                    // En producci√≥n: navegar a vista detallada
                },
                
                handleSearch: DataUtils.debounce(function() {
                    if (this.searchQuery.length > 2) {
                        NotificationManager.info(`Buscando: ${this.searchQuery}`);
                        // En producci√≥n: llamar API de b√∫squeda
                    }
                }, 300)
            }
        }
        
        // Verificar que todo se carg√≥
        console.log('‚úÖ Script supervisor cargado completamente');
        console.log('supervisorApp disponible:', typeof window.supervisorApp);
    </script>
</body>
</html>